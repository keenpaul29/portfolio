@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS variables for theming */
@layer base {
  :root {
    --background: #f8fafc; /* light */
    --foreground: #0a0a0a;
    --surface: #ffffff;
    --surface-2: #f1f5f9;
    --muted: #475569;
    --border: rgba(15, 23, 42, 0.12);

    --primary: #3b82f6;
    --primary-foreground: #ffffff;
    --secondary: #10b981;
    --secondary-foreground: #06251d;
  }

  .dark {
    /* Requested dark background */
    --background: #0A1A2F;
    --foreground: #E6EDF7;
    --surface: #0F2440;   /* elevated surfaces */
    --surface-2: #102945; /* subdued surfaces */
    --muted: #A7B7CF;
    --border: rgba(255, 255, 255, 0.12);

    --primary: #60A5FA; /* lighter blue for dark bg */
    --primary-foreground: #051225;
    --secondary: #34D399;
    --secondary-foreground: #06251d;
  }

  html { color-scheme: light dark; }
  body { @apply antialiased; }
}

/* Reusable components */
@layer components {
  .glass-morphism {
    /* Fallback to CSS vars to avoid Tailwind unknown class errors */
    background-color: color-mix(in srgb, var(--surface) 60%, transparent);
    backdrop-filter: blur(12px);
    border: 1px solid var(--border);
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
  }

  .button-base {
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-5 py-3 font-medium transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 disabled:opacity-60 disabled:cursor-not-allowed;
  }
  .button-primary { 
    @apply button-base;
    background-color: var(--primary);
    color: var(--primary-foreground);
  }
  .button-primary:hover {
    filter: brightness(0.95);
  }
  .button-secondary { 
    @apply button-base;
    background-color: var(--surface-2);
    color: var(--foreground);
    border: 1px solid var(--border);
  }
  .button-secondary:hover {
    background-color: color-mix(in srgb, var(--surface) 80%, transparent);
  }

  .social-link {
    @apply inline-flex items-center justify-center rounded-lg p-2 transition-colors;
    background-color: color-mix(in srgb, var(--surface-2) 60%, transparent);
    border: 1px solid var(--border);
    color: color-mix(in srgb, var(--foreground) 80%, transparent);
  }
  .social-link:hover {
    background-color: color-mix(in srgb, var(--surface) 80%, transparent);
    color: var(--foreground);
  }

  .retro-card {
    @apply rounded-2xl p-6 hover:shadow-xl transition-shadow;
    background-color: color-mix(in srgb, var(--surface) 60%, transparent);
    border: 1px solid var(--border);
    box-shadow: 0 4px 16px rgba(0,0,0,0.15);
  }

  /* Animated aurora gradient overlay */
  @keyframes auroraShift {
    0% { transform: translate3d(-10%, -10%, 0) rotate(0deg) scale(1); }
    50% { transform: translate3d(10%, 5%, 0) rotate(10deg) scale(1.05); }
    100% { transform: translate3d(-10%, -10%, 0) rotate(0deg) scale(1); }
  }
  .aurora-overlay {
    position: absolute;
    inset: 0;
    opacity: 0.35;
    filter: blur(60px) saturate(1.15);
    pointer-events: none;
    background: radial-gradient(40% 35% at 20% 30%, rgba(59,130,246,0.45), transparent 60%),
                radial-gradient(35% 30% at 80% 25%, rgba(168,85,247,0.45), transparent 60%),
                radial-gradient(45% 40% at 50% 80%, rgba(14,165,233,0.45), transparent 60%);
    animation: auroraShift 18s ease-in-out infinite;
    mix-blend-mode: screen;
  }
}

/* Utilities for text and effects */
@layer utilities {
  .gradient-text { @apply bg-clip-text text-transparent bg-gradient-to-r from-primary via-secondary to-primary; }
  .pixel-text { @apply tracking-wider font-semibold; }
  .pixel-text-3d {
    text-shadow: 0 1px 0 rgba(0,0,0,0.2), 0 2px 4px rgba(0,0,0,0.25);
  }

  /* Consistent large section headings without vertical clipping */
  .section-title {
    /* responsive sizes and generous line-height to avoid ascender/descender clipping */
    @apply text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold leading-[1.15] tracking-tight py-1;
  }

  /* High-visibility gradient specifically for section headings */
  .section-title-gradient {
    /* vivid but readable on dark and light backgrounds */
    @apply bg-clip-text text-transparent bg-gradient-to-r from-cyan-300 via-amber-300 to-orange-400;
  }

  /* Subtle retro grid background */
  .retro-grid {
    background-image:
      linear-gradient(to right, rgba(255,255,255,0.06) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(255,255,255,0.06) 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* Custom cursors (desktop only) */
  .custom-cursor {
    position: fixed; top: 0; left: 0; width: 6px; height: 6px; border-radius: 9999px; background: var(--primary);
    transform: translate(-50%, -50%); pointer-events: none; z-index: 50;
  }
  .cursor-aura {
    position: fixed; top: 0; left: 0; width: 32px; height: 32px; border-radius: 9999px; background: rgba(96,165,250,0.15);
    transform: translate(-50%, -50%); pointer-events: none; z-index: 40; filter: blur(2px);
  }
}
